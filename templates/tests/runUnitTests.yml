parameters:
  buildConfiguration: '' # used in DotNetColeCLI tasks
  coverletCoverageExclusions: ''

steps:
  - task: DotNetCoreCLI@2
    displayName: 'Run Unit Tests'
    inputs:
      command: test
      projects: '**\**\*UnitTests.csproj'
      arguments: '--no-build /p:CollectCoverage=true /p:CoverletOutputFormat="\"opencover,cobertura,json\"" /p:Exclude="\"${{ parameters.coverletCoverageExclusions }}\"" /p:CoverletOutput=$(Common.TestResultsDirectory)\Coverage\UnitTest\ -c ${{ parameters.buildConfiguration }} '
