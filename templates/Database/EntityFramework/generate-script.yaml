parameters:
  - name: outputPath
    type: string
    default: "$(Build.SourcesDirectory)"
  - name: workingPath
    type: string
    default: "$(Build.SourcesDirectory)"
  - name: projectName
    type: string
  - name: contextName
    type: string


steps:
- task: DotNetCoreCLI@2
  inputs:
    command: 'custom'
    custom: 'ef'
    arguments: 'migrations script --output "$(outputPath)/$(contextName).sql" --context $(contextName) --idempotent --project "$(workingPath)/$(projectName)" --startup-project "$(workingPath)/$(projectName)" -v'
