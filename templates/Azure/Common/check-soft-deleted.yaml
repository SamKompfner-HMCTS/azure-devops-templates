parameters:
  - name: subscriptionName
    type: string
  - name: resourceName
    type: string
  - name: resourceLocation
    type: string

  - name: variableName
    type: string
  - name: taskName
    type: string
    default: 'getSoftDeleteServices'


steps:
  - task: AzureCLI@2
    displayName: 'Check if ${{ parameters.resourceName }} is available'
    name: ${{ parameters.taskName }}
    inputs:
      azureSubscription: '${{ parameters.subscriptionName }}'
      scriptType: 'bash'
      scriptLocation: 'scriptPath'
      scriptPath: check-soft-deleted.sh
    env:
      variableName: "${{ parameters.variableName }}"
      resourceLocation: "${{ parameters.resourceLocation }}"
      resourceName: "${{ parameters.resourceName }}"
