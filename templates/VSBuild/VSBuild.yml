steps:
# Restores nuget packages
  - task: NuGetCommand@2
    displayName: 'NuGet restore'
    inputs:
      restoreSolution: '*/*.sln'
      vstsFeed: '${parameters.vstsFeedId}'

# Builds VS Solution
  - task: VSBuild@1
    displayName: 'Build solution */*.sln'
    inputs:
      solution: '*/*.sln'
      platform: '$(BuildPlatform)'
      configuration: '$(BuildConfiguration)'
      msbuildArgs: '/p:DeployOnBuild=true /p:WebPublishMethod=Package /p:PackageAsSingleFile=true /p:SkipInvalidConfigurations=true /p:DesktopBuildPackageLocation="$(build.artifactstagingdirectory)\WebApp"'
